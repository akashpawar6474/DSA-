class Solution:
    
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        """
        this is exactly same problem like 4 sum
        where brute force is to have 3 loops
        tc = O(n ^ 3)
        sc = constant
        
        but still without sorting how we are going to skip the duplicates
        so sorting is necessary
        
        and have one fixed loop at starting
        then have two pointers approach to find new target
        tc = O(nlogn + n ^ 2) => O(n ^ 2)
        sc = O(n)
        """
        def findTriplet(first,newTarget,nums,ans):
            n = len(nums)
            second = first + 1
            third = n - 1
            while second < third:
                eleAtSecond = nums[second]
                eleAtThird = nums[third]
                currTotal = eleAtSecond + eleAtThird
                if currTotal == newTarget:
                    triplet = [nums[first],nums[second],nums[third]]
                    ans.append(triplet)
                    second += 1
                    third -= 1
                    while second < third and nums[second] == nums[second - 1]:
                        second += 1
                    while second < third and nums[third] == nums[third + 1]:
                        third -= 1
                elif currTotal < newTarget:
                    second += 1
                else:
                    third -= 1
        
        nums.sort()
        n = len(nums)
        ans = []
        for first in range(n - 2):
            eleAtFirst = nums[first]
            if first > 0 and eleAtFirst == nums[first - 1]:
                continue
            newTarget = 0 - nums[first]
            findTriplet(first,newTarget,nums,ans)
        return ans
